{% extends 'base.html' %}
{% block title %} wishlist {% endblock %}
{% load static %}

{% block content %}
<!-- Wishlist Start -->
<div class="container-fluid product py-5">
    <div class="container py-5">
        <div class="tab-class">
            <div class="row g-4">
                <div class="col-lg-4 text-start wow fadeInLeft" data-wow-delay="0.1s">
                    <h1>My Wishlist</h1>
                </div>
            <div class="tab-content">
                <div id="tab-1" class="tab-pane fade show p-0 active">
                    <div class="row g-4">

                        {% for product in wishlist_products %}
                        <div class="col-md-6 col-lg-4 col-xl-3">
                            <div class="product-item rounded wow fadeInUp" data-wow-delay="0.1s">
                                <div class="product-item-inner border rounded">
                                    <div class="product-item-inner-item">
                                        {% if product.main_image %}
                                            <img src="{{ product.main_image.url }}" class="img-fluid w-100 rounded-top" alt="{{ product.title }}">
                                        {% else %}
                                            <img src="{% static 'img/default.jpg' %}" class="img-fluid w-100 rounded-top" alt="{{ product.title }}">
                                        {% endif %}

                                        {% if product.on_sale %}
                                            <div class="product-sale">sale</div>
                                        {% elif product.new %}
                                            <div class="product-new">New</div>
                                        {% endif %}

                                        <div class="product-details">
                                            <a href="{% url 'products:details' product.pk %}"><i class="fa fa-eye fa-1x"></i></a>
                                        </div>
                                    </div>
                                    <div class="text-center rounded-bottom p-4">
                                        <a href="{% url 'products:category' product.category.title %}" class="d-block mb-2">{{ product.category.title }}</a>
                                        <a href="{% url 'products:details' product.pk %}" class="d-block h4">{{ product.title }}</a>

                                        {% if product.on_sale %}
                                        <del class="me-2 fs-5">${{ product.price }}</del>
                                        <span class="text-primary fs-5">${{ product.sale_price }}</span>
                                        {% else %}
                                        <span class="text-primary fs-5">${{ product.price }}</span>
                                        {% endif %}

                                    </div>
                                </div>
                                <div class="product-item-add border border-top-0 rounded-bottom text-center p-4 pt-0">
                                    <a href="#" class="btn btn-primary border-secondary rounded-pill py-2 px-4 mb-4"><i class="fas fa-shopping-cart me-2"></i> Add To Cart</a>
                                    <form method="post" action="{% url 'products:add_remove_wishlist' product.pk %}">{% csrf_token %}
                                        <input type="hidden" name="next" value="{{ request.get_full_path }}">
                                        <button class="btn btn-danger rounded-pill py-2 px-4"><i class="fas fa-trash me-2"></i> Remove</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                        {% endfor %}

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% load static %}